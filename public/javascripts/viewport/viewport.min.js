(function(a){"use strict";function b(){this.collection={},this.maxListeners=10}var c=a.Object,d=a.Array,e=function(){return"function"==typeof d.isArray?d.isArray:function(a){return"[object Array]"===c.prototype.toString.call(a)}}();b.prototype.addListener=function(a,b,c){if(void 0===a)throw Error('jvent - "addListener(event, listener)": It should receive an event.');if(void 0===b)throw Error('jvent - "addListener(event, listener)": It should receive a listener function.');var d=this.collection;if(b.once=c||!1,void 0===d[a]&&(d[a]=[]),d[a].length+1>this.maxListeners&&0!==this.maxListeners)throw Error("Warning: So many listeners for an event.");return d[a].push(b),this.emit("newListener"),this},b.prototype.on=b.prototype.addListener,b.prototype.once=function(a,b){return this.on(a,b,!0),this},b.prototype.removeListener=function(a,b){if(void 0===a)throw Error('jvent - "removeListener(event, listener)": It should receive an event.');if(void 0===b)throw Error('jvent - "removeListener(event, listener)": It should receive a listener function.');var f,c=this.collection[a],d=0;if(e(c))for(f=c.length,d;f>d;d+=1)if(c[d]===b){c.splice(d,1);break}return this},b.prototype.off=b.prototype.removeListener,b.prototype.removeAllListeners=function(a){if(void 0===a)throw Error('jvent - "removeAllListeners(event)": It should receive an event.');return delete this.collection[a],this},b.prototype.setMaxListeners=function(a){if(isNaN(a))throw Error('jvent - "setMaxListeners(n)": It should receive a number.');return this.maxListeners=a,this},b.prototype.listeners=function(a){if(void 0===a)throw Error('jvent - "listeners(event)": It should receive an event.');if(void 0===this.collection[a])throw Error('jvent - "listeners(event)": The event must exist into the collection.');return this.collection[a]},b.prototype.emit=function(){var c,d,f,a=arguments,b=a[0];if(void 0===b)throw Error('jvent - "emit(event)": It should receive an event.');if("string"==typeof b&&(b={type:b}),b.target||(b.target=this),e(this.collection[b.type]))for(c=this.collection[b.type],d=0,f=c.length,d;f>d;d+=1)c[d].apply(this,arguments),c[d].once&&(this.off(b.type,c[d]),f-=1,d-=1);return this},"function"==typeof a.define&&void 0!==a.define.amd?a.define("Jvent",[],function(){return b}):"undefined"!=typeof module&&void 0!==module.exports?module.exports=b:a.Jvent=a.EventEmitter=b})(this),function(a){"use strict";function j(){if(h||i){var a=h?"resize":"scroll";this.refresh(),h=!1,i=!1,this.emit(a)}}function k(){return this instanceof k||void 0!==k.getInstance?k.getInstance?k.getInstance:(this.init(),void 0):new k}var b=a,c=b.document,d=c.documentElement,e=b.addEventListener||b.attachEvent,f=b.attachEvent?"onresize":"resize",g=b.attachEvent?"onscroll":"scroll",h=!1,i=!1;e(f,function(){h=!0}),e(g,function(){i=!0}),k.prototype=new Jvent,k.prototype.init=function(){var a=this;a.refresh(),a.calculateDeviceDimensions(),b.setInterval(function(){j.call(a)},350),k.getInstance=this},k.prototype.device={},k.prototype.calculateDimensions=function(){this.height=d.clientHeight,this.width=d.clientWidth},k.prototype.calculateDeviceDimensions=function(){this.device.height=b.screen.height,this.device.width=b.screen.width},k.prototype.calculateScroll=function(){var f,a=this.scrollY,e=this.height+a;this.scrollY=b.pageYOffset||d.scrollTop,this.scrollX=b.pageXOffset||d.scrollLeft,f=this.height+this.scrollY,a!==this.scrollY&&0===this.scrollY?this.emit("top"):e!==f&&f>=c.body.scrollHeight&&this.emit("bottom")},k.prototype.calculateOffset=function(){this.top=this.scrollY,this.right=this.scrollX+this.width,this.bottom=this.scrollY+this.height,this.left=this.scrollX},k.prototype.calculateMousePostition=function(b){var e=0,f=0;return b=b||a.event,b.pageX||b.pageY?(e=b.pageX,f=b.pageY):(e=b.clientX+c.body.scrollLeft+d.scrollLeft,f=b.clientY+c.body.scrollTop+d.scrollTop),{posX:e,posY:f}},k.prototype.calculateOrientation=function(){this.orientation=90===Math.abs(b.orientation)?"landscape":"portrait"},k.prototype.inViewport=function(a){var b=a.getBoundingClientRect();return b.top>0&&b.right<this.width&&b.bottom<this.height&&b.left>0},k.prototype.isVisible=function(a){var b=a.getBoundingClientRect();return b.height>=this.top},k.prototype.refresh=function(){this.calculateDimensions(),this.calculateScroll(),this.calculateOffset(),this.calculateOrientation()},"function"==typeof a.define&&void 0!==a.define.amd?a.define("viewport",[],function(){return new k}):"undefined"!=typeof module&&void 0!==module.exports?module.exports=new k:a.Viewport=k}(this);